<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Container</title>
</head>
<!-- Latest compiled and minified CSS -->
<!-- font awesome 4.7 -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">


<style>
    @keyframes mostrar {
        0% {
            opacity: 0;

        }
        100% {
            opacity: 1;
        }
    }

    header {
        background-color: teal;
        color: #fff;
    }

    .row {
        margin: 20px 0;
    }

    .container-flex {
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        height: 125px;
        align-items: center;
    }

    .box {
        position: relative;
        /*display: inline-block;  */
        width: 75px;
        height: 75px;
        background-color: rebeccapurple;
        color: wheat;
        font-size: 3em;
        text-align: center;
        /*margin: 8px;*/
    }

    .box .fa {
        position: absolute;
        font-size: 0.5em;
        top: -15px;
        right: -15px;
        color: black;
        z-index: 999;
    }


    .box:last-child {
        animation-name: mostrar;
        animation-duration: 1s;
        animation-timing-function: ease-in;
    }



    .box2 {
        animation-name: mostrar;
        animation-duration: 0.5s;
        animation-timing-function: ease-in;
    }



    .box2 {
        /*display: inline-block;  */
        width: 75px;
        height: 75px;
        background-color: forestgreen;
        color: wheat;
        font-size: 3em;
        text-align: center;
        /*margin: 5px;*/
    }
</style>




<body>
    <header class="main">
        <div class="container">
            <h1>Bublesort</h1>
        </div>
    </header>
    <div clas="row" id="alerta"></div>

    <div class="container">
        <div class="row">
            <form class="form-inline">
                <div class="col-xs-3">
                    <div class="form-group">
                        <input type="number" class="form-control" step="1" max="300" min="0" id="numeroInput" required>
                    </div>
                </div>
                <div class="col-xs-9">
                    <button type="button" class="btn btn-default" onclick="add()">Añade Numero</button>
                </div>
            </form>
        </div>
        <div class="row">
            <div class="panel panel-danger">
                <!-- Default panel contents -->
                <div class="panel-heading ">Numeros desordenados</div>
                <div class="panel-body container-flex" id="cntNumDes">

                    <!-- Inner html
                    <span class="box">3</span>
                     end Inner html -->
                    <span class="box" id="aparece">1<span onclick="borrar(0)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span></span><span class="box" id="aparece">2<span onclick="borrar(1)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span></span><span class="box" id="aparece">3<span onclick="borrar(2)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span></span><span class="box" id="aparece">4<span onclick="borrar(3)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span></span><span class="box" id="aparece">5<span onclick="borrar(4)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="panel panel-success">
                <!-- Default panel contents -->
                <div class="panel-heading ">Numeros ordenados</div>
                <div class="panel-body container-flex" id="cntNumOrd">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <button type="button" class="btn btn-success btn-block" onclick="ordenar()">Ordenar</button>
                    <button type="button" class="btn btn-danger btn-block" onclick="limpiar()">Limpiar</button>
                </div>
            </div>
        </div>
<a href=http://127.0.0.1:49261/index.html><i class="fa fa-reply" aria-hidden="true"></i></a>
    </div>


    <!-- jquery-->
    <script src="http://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
        var numeroInput = document.getElementById("numeroInput"); //numero que ingresa en el input
        var cntNumDes = document.getElementById("cntNumDes"); //contenedor de numeros desordenados
        var cntNumOrd = document.getElementById("cntNumOrd"); //Contenedor de numeros
        //En este span tengo el borrar dentro del span un segundo span con una clase borrar antes del icono
        var spanNumero = '<span class="box" id="aparece">##numero##<span onclick="borrar(##posicion##)"> <i class="fa fa-times-circle" aria-hidden="true"></i></span>';
        var spanNumero2 = '<span class="box2">##numero##</span>';
        var alerta = document.getElementById("alerta");
        var alertMsnDefault = ('<div class="alert alert-warning alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>"<strong>Warning!</strong>##alertText##</div>');
        var arrDes = []; //Array con numeros desordenados
        var arrOrd = []; //Array de numeros ordenados


        /**
         * recoger numero del input y meterlo en div#cntNumDes
         */

        function add() {
            alerta.innerHTML = "";
            var len = arrDes.length;
            if (len > 9) {
                var texto = "Este pentium no puede ordenar mas de 10 numeros :S";
                //alerta si la longitud es mayor a 10 numeros
                alerta.innerHTML = alertMsnDefault.replace('##alertText##', texto);



            } else if (numeroInput.value === "") {
                var texto = "Aun siendo pentium se distingir numeros de letras ¬¬";
                //alerta si el valor es ""
                alerta.innerHTML = alertMsnDefault.replace('##alertText##', texto);
            } else {
                console.debug("Añadir nuevo numero %s", numeroInput.value);
                //Añadir al array desordenado
                arrDes.push(parseFloat(numeroInput.value));
                //pintamos el cubito y guardamos la posicion
                var spanNumeroIDborrar = spanNumero.replace('##posicion##', len);
                cntNumDes.innerHTML += spanNumeroIDborrar.replace('##numero##', numeroInput.value);

                //Limpiar input y poner foco
                numeroInput.value = "";
                numeroInput.focus();
            }


        }
        //Funcion borrar (sin probar si funciona) falta repintar tanto ordenar como desorden
        /*function borrar(var num) {
            var len = arrDes.length;
            for (var i = num; i < len; i++) {
                arrDes[i] = arrDes[i + 1];
                if (i == len) {
                    arrDes.pop();
                }

            }


        }
*/
        function ordenar() {
            alerta.innerHTML = "";
            console.debug("array desordenado" + arrDes);
            var len = arrDes.length;
            if (len <= 1) {
                var texto = "Para comparar como que minino necesito 2 numeros no ?";
                alerta.innerHTML = alertMsnDefault.replace('##alertText##', texto);
            } else {
                for (var i = 0; i < len; i++) {
                    arrOrd[i] = parseFloat(arrDes[i]);

                }
                do {
                    var romper = false;
                    for (var i = 0; i < len; i++) {
                        var z = i + 1;
                        if (arrOrd[i] > arrOrd[z]) {

                            var aux = arrOrd[i];
                            arrOrd[i] = arrOrd[z];
                            arrOrd[z] = aux;
                            romper = true;
                        }

                    }

                } while (romper);
                console.debug("array ordenado" + arrOrd);

                pintar();
            }

        }

        function pintar() {

            var len = arrDes.length;
            cntNumOrd.innerHTML = ("");


            for (var i = 0; i < len; i++) {
                console.debug("Añadir nuevo numero %s", arrOrd[i]);
                cntNumOrd.innerHTML += spanNumero2.replace('##numero##', arrOrd[i]);
            }

        }

        function limpiar() {
            alerta.innerHTML = "";
            cntNumDes.innerHTML = ("");
            cntNumOrd.innerHTML = ("");
            arrDes = [];
            arrOrd = [];
            numeroInput.focus();

        }
    </script>
</body>

</html>
