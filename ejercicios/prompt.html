<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prompt</title>
</head>

<body onload="confirmarEdad()">

    <h1>Prompt</h1>

    <button onclick="sumarNumeros()">Sumar números</button>
    <br><br>

    <output id="resultado">Resultado: </output>



    <script>
        // TODO[x]: Al cargar la página confirmar que es mayor de edad
        /** Método para decidir si tiene acceso a la página preguntando por la mayoría de edad
         *   confirm --> dar acceso
         *   cancel  --> redirigir a otro HTML
         **/
        function confirmarEdad() {

            var respuesta = confirm("¿Eres mayor de edad?");

            if (!respuesta) {
                console.info("El usuario no es mayor de edad, será redirigido a una web de juegos apropiados para su edad.")
                location.href = "arcanoid.html";
            }
        }

        // TODO[x]: lanzar prompt
        /** Método para sumar 2 números introducidos en un prompt por el usuario
         *
         **/
        function sumarNumeros() {

            // Variables
            var num1 = null;
            var num2 = null;
            var mostrarResultado = "";
            var suma = null;

            var resultadoSuma = document.getElementById("resultado");

            // FIXME[x]: validación de entrada de números para la suma. Ya no acepta NaN, "", " " etc.
            // NOTE: isNaN(parseInt("") == true --> porque el 'parseInt' lo entiende como un NaN

            do {
                num1 = prompt("Inserte el 1.número de la suma");
                if (num1 == null) {
                    break;
                }
            } while (isNaN(parseInt(num1)) || num1 == "");

            if (num1 != null) {
                console.log("Número 1: " + num1);
            }


            do {
                num2 = prompt("Inserte el 2.número de la suma");
                if (num2 == null) {
                    break;
                }
            } while (isNaN(parseInt(num2)) || num2 == "");

            if (num2 != null) {
                console.log("Número 2: " + num1);
            }

            if(num1 != null && num2 != null) {
                suma = (parseInt(num1)+parseInt(num2));
                mostrarResultado = "Resultado: " + suma;
                console.debug(num1 + " + " + num2 + " = " + suma);
            } else {
                mostrarResultado = "No ha introducido números para sumar";
            }
            resultadoSuma.innerHTML = mostrarResultado;

        }
    </script>
</body>
</html>
