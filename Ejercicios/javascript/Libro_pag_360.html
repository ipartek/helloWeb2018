<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Ejercicio 2</title>
    <link rel="stylesheet" href="/css/styles.css">

    <style>
        form {
            line-height: 30px;
        }

    </style>
</head>

<body>
    <h1>Ejercicio 2</h1>

    <form name="datosPersonales" id="datosPersonales" method="post" action="">

        <label for="nombre">NOMBRE:</label>
        <input type="text" id="nombre" name="nombre" value=""><br>

        <label for="apellidos">APELLIDOS:</label>
        <input type="text" id="apellidos" name="apellidos" value=""><br>

        <label for="sexo">SEXO</label>
        <select name="sexo" id="sexo" onchange="activarEstadoCivil();">
            <option value="0" selected="selected">...</option>
            <option value="1">Masculino</option>
            <option value="2">Femenino</option>
        </select>
        <br>

        <label for="estadoCivil">ESTADO CIVIL</label>
        <select name="estadoCivil" id="estadoCivil" disabled="disabled">
        <option value="0" selected="selected">...</option>
        <option value="1">Soltero</option>
        <option value="2">Casado</option>
        <option value="3">Divorciado</option>
        <option value="4">Viudo</option>
    </select>
        <br>

        <label>IDIOMAS:</label><br>
        <input type="checkbox" name="idioma1" id="idioma1" value="Castellano">Castellano<br>
        <input type="checkbox" name="idioma2" id="idioma2" value="Ingles">Inglés<br>
        <input type="checkbox" name="idioma3" id="idioma3" value="Frances">Francés<br>

        <label>PROFESIÓN</label>
        <br>
        <input type="radio" name="profesion" id="profesion1" value="autonomo" onchange="calcularTasas();">Autónomo
        <br>
        <input type="radio" name="profesion" id="profesion2" value="ajena" onchange="calcularTasas();">Trabajador por cuenta ajena
        <br>
        <input type="radio" name="profesion" id="profesion3" value="paro" onchange="calcularTasas();">Desempleado
        <br>
        <input type="radio" name="profesion" id="profesion4" value="jubilado" onchange="calcularTasas();">Jubilado
        <br>

        <label for="tasas">TASAS:</label>
        <input type="text" id="tasas" name="tasas" value=""><br>
        <input type="submit" id="enviar_datos" name="enviar_datos" value="Enviar">
        <input type="button" id="mostrar_datos" name="mostrar_datos" value="Mostrar" onclick="mostrarMensaje();">

    </form>


    <script>
        var nombre = document.getElementById("nombre");
        nombre.focus();

        function activarEstadoCivil() {
            var valorSexo = datosPersonales.sexo.options[datosPersonales.sexo.selectedIndex].value

            if (valorSexo == 2) {
                document.getElementById("estadoCivil").disabled = false;
            } else {
                document.getElementById("estadoCivil").disabled = true;
            }

        }

        function calcularTasas() {

            var valorProfesion = "";
            var encontrado = false;

            for (var i = 0; i < datosPersonales.profesion.length && !encontrado; i++) {
                if (datosPersonales.profesion[i].checked) {
                    valorProfesion = datosPersonales.profesion[i].value;
                    encontrado = true;
                }
            }

            switch (valorProfesion) {
                case "autonomo":
                    datosPersonales.tasas.value = "15€";
                    break;
                case "ajena":
                    datosPersonales.tasas.value = "20€";
                    break;
                case "desempleado":
                    datosPersonales.tasas.value = "2€";
                    break;
                case "jubilado":
                    datosPersonales.tasas.value = "5€";
                    break;
            }
        }

        function mostrarMensaje(){
            var nombreyApellidos="NOMBRE: "+datosPersonales.nombre.value+"\n";
            nombreyApellidos +="APELLIDOS: "+datosPersonales.apellidos.value;
            var mensajeFinal=nombreyApellidos+"\nTASAS: "+datosPersonales.tasas.value;

            alert(mensajeFinal);
        }

    </script>




</body>

</html>
